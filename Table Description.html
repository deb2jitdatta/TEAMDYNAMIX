<!--
    Displaying the contents of a 3D Array 
-->

<!DOCTYPE html>
<html>

<head>
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <script src="https://cdn.jsdelivr.net/npm/regular-table@0.0.6/dist/umd/regular-table.js"></script>
    <link rel='stylesheet' href="https://cdn.jsdelivr.net/npm/regular-table@0.0.6/dist/css/material.css">

    <style>
        p {
            display: block;
            margin: 0;
            height: 250px;
            position: static;
        }

        td {
            color: #1078d1;
        }

        tbody th:last-of-type,
        thead tr:nth-child(2) th:nth-child(2),
        thead tr:first-child th:first-child {
            border-right: 1px solid #ddd;
        }

        regular-table {
            height: 250px;
            display: block;
        }

        regular-table div {
            position: static;
            height: auto;
        }
    </style>
</head>

<body>

    <tables></tables>

    <script>
        // A random 3-dimensional data is created for
        // implementing the regular-table concept for 3D array

const DATA = [
            [
                [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14],
                ["A1", "B1", "C1", "D1", "E1", "F1", "G1", "H1", "I1", "J1", "K1", "L1", "M1", "N1", "O1"],
                Array.from(Array(15).keys()).map((value) => value % 2 === 0),
                Array.from(Array(15).keys()).map((value) => (value + 1) * 2),
                Array.from(Array(15).keys()).map((value) => (value + 1) * 3),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 2),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 3),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 4),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 5),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 6),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 7),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 8),
    ],
            [
                [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14],
                ["A2", "B2", "C2", "D2", "E2", "F2", "G2", "H2", "I2", "J2", "K2", "L2", "M2", "N2", "O2"],
                Array.from(Array(15).keys()).map((value) => value % 2 === 0),
                Array.from(Array(15).keys()).map((value) => (value + 1) * 2),
                Array.from(Array(15).keys()).map((value) => (value + 1) * 3),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 2),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 3),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 4),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 5),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 6),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 7),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 8),
    ],
            [
                [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14],
                ["A3", "B3", "C3", "D3", "E3", "F3", "G3", "H3", "I3", "J3", "K3", "L3", "M3", "N3", "O3"],
                Array.from(Array(15).keys()).map((value) => value % 2 === 0),
                Array.from(Array(15).keys()).map((value) => (value + 1) * 2),
                Array.from(Array(15).keys()).map((value) => (value + 1) * 3),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 2),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 3),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 4),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 5),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 6),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 7),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 8),
    ],
            [
                [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14],
                ["A4", "B4", "C4", "D4", "E4", "F4", "G4", "H4", "I4", "J4", "K4", "L4", "M4", "N4", "O4"],
                Array.from(Array(15).keys()).map((value) => value % 2 === 0),
                Array.from(Array(15).keys()).map((value) => (value + 1) * 2),
                Array.from(Array(15).keys()).map((value) => (value + 1) * 3),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 2),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 3),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 4),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 5),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 6),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 7),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 8),
    ],
            [
                [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14],
                ["A5", "B5", "C5", "D5", "E5", "F5", "G5", "H5", "I5", "J5", "K5", "L5", "M5", "N5", "O5"],
                Array.from(Array(15).keys()).map((value) => value % 2 === 0),
                Array.from(Array(15).keys()).map((value) => (value + 1) * 2),
                Array.from(Array(15).keys()).map((value) => (value + 1) * 3),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 2),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 3),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 4),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 5),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 6),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 7),
                Array.from(Array(15).keys()).map((value) => (value + 1) ** 8),
    ],
];

// Global variables declared, to be used later

var num_table; // Current table-dimension number
const tables = document.getElementsByTagName("tables")[0]; // Select the tag tables

function dataListener(x0, y0, x1, y1) {
            return {
                num_rows: DATA[num_table][0].length,
                num_columns: DATA[num_table].length,
                data: DATA[num_table].slice(x0, x1).map((col) => col.slice(y0, y1)),
    };
}

// The createTables() function takes the 3D array data
// and displays individual 2D array of individual dimensions

function createTables() {
            var num_tables = DATA.length;
            for (var i = 0; i < num_tables; i++) {
                // Dimension or table number

                num_table = i;

                // The <p> tag along with table number is displayed

                var num_table_text = document.createElement("p");
                num_table_text.innerHTML = "Table " + i;
                tables.appendChild(num_table_text);

                // The corresponding <regular-table> element are created

                var regular_table = document.createElement("regular-table");
                regular_table.setAttribute("tabindex", num_table);
                regular_table.style.top = 20 * (num_table + 1) + 250 * num_table + "px";
                regular_table.setAttribute("id", "tableid" + num_table); // Unique ID is given for each element
                tables.appendChild(regular_table);

                var table = document.getElementById("tableid" + num_table); // dataListener is set for each element
                table.setDataListener(dataListener);
                tables.appendChild(document.createElement("br"));
                table.draw();
            }
}

// createTables() function is called for creating the tables for each dimension

createTables();
    </script>

</body>

</html>